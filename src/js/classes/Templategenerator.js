import{Lang as e}from"../classes/Lang.js";export class Templategenerator{constructor(){this.Lang=new e}render_transBoxesSingle(e){let t=this.render_element("div",["trans-box","flex-center"]),n=this.render_element("div",["trans-sub-holder-left","flex-center"]);"expense"===e.type?n.classList.add("neg-field"):n.classList.add("pos-field");let r=this.render_element("div",["trans-big-holder","flex-start"]),a=this.render_textElement("p",e.category,void 0,["trans-name"]);r.append(a);let d=this.render_element("div",["trans-small-holder","flex-start"]),l=this.render_textElement("p",e.amount.toFixed(2)+"€",void 0,["trans-amount"]);d.append(l);let i=this.render_element("div",["trans-big-holder","flex-start"]),s=this.render_textElement("p",e.date,void 0,["trans-date"]);i.append(s);let p=this.render_element("div",["trans-small-holder","flex-start"]),o=this.render_textElement("p",this.Lang.lang("Einzelbetrag"),void 0,["trans-type"]);p.append(o);let h=this.render_element("div",["trans-sub-holder-right","flex-center"]),c=this.render_element("div",["transactions-button-holder","flex-center"]),m=this.render_element("div",["delete-trans-button","interface-buttons","circle-shapes","clickable"]);return m.setAttribute("mt_ident",e.identifier),c.append(m),h.append(c),n.append(r),n.append(d),n.append(i),n.append(p),t.append(n),t.append(h),t.setAttribute("mt_ident",e.identifier),t}render_transBoxesRunning(e){let t=this.render_element("div",["trans-box","flex-center"]),n=this.render_element("div",["trans-sub-holder-left","flex-center"]);"expense"===e.type?n.classList.add("neg-field"):n.classList.add("pos-field");let r=this.render_element("div",["trans-big-holder","flex-start"]),a=this.render_textElement("p",e.category,void 0,["trans-name"]);r.append(a);let d=this.render_element("div",["trans-small-holder","flex-start"]),l=this.render_textElement("p",e.amountPerMonth.toFixed(2)+"€",void 0,["trans-amount"]);d.append(l);let i,s;if(e.date)i=this.render_element("div",["trans-big-holder","flex-start"]),s=this.render_textElement("p",e.date,void 0,["trans-date"]),i.append(s);else{let p="";switch(i=this.render_element("div",["trans-big-holder","flex-start"]),e.due){case"week":p=this.Lang.lang("w\xf6ch.: ");break;case"month":p=this.Lang.lang("mtl.: ");break;case"quarter":p=this.Lang.lang("quart.: ");break;case"halfyear":p=this.Lang.lang("halbj\xe4hrl.: ");break;case"year":p=this.Lang.lang("j\xe4hrl.: ")}s=this.render_textElement("p",p+e.amount.toFixed(2)+"€",void 0,["trans-date"]),i.append(s)}let o=this.render_element("div",["trans-small-holder","flex-start"]),h="";h=void 0===e.date?"Fixbetrag":"Einzelbetrag";let c=this.render_textElement("p",h,void 0,["trans-type"]);o.append(c);let m=this.render_element("div",["trans-sub-holder-right","flex-center"]),u=this.render_element("div",["transactions-button-holder","flex-center"]);if(m.append(u),e.date){let b=this.render_element("div",["delete-trans-button","interface-buttons","circle-shapes","clickable"]);b.setAttribute("mt_ident",e.identifier),u.append(b)}return n.append(r),n.append(d),n.append(i),n.append(o),t.append(n),t.append(m),t.setAttribute("mt_ident",e.identifier),t}refresh_transBody(e,t){let n=document.getElementById("trans-body");for(let r=0;r<n.children.length;r++)n.children[0].remove();if(e.length>0)for(let a=0;a<e.length;a++)n.append(this.render_transBoxesRunning(e[a]));if(t.expenses.length>0)for(let d=0;d<t.expenses.length;d++)n.append(this.render_transBoxesSingle(t.expenses[d]));if(t.earnings.length>0)for(let l=0;l<t.earnings.length;l++)n.append(this.render_transBoxesSingle(t.earnings[l]))}render_transWrapper(e,t){let n=this.render_element("div",["box","clickable","flex-column"],["trans-wrapper"]),r=this.render_element("div",["trans-head","flex-around"],["trans-head"]),a=this.render_textElement("h3",this.Lang.lang(e)+" "+t);r.append(a);let d=this.render_element("div",["trans-body","flex-column","col-items-wrapper"],["trans-body"]),l=this.render_element("div",void 0,["trans-foot"]);return n.append(r),n.append(d),n.append(l),n}render_dashboardHolder(e,t,n,r){let a=this.render_element("div",["dashboard-holder","box","flex-column"],["dashboard-holder"]),d=this.render_element("div",["dashboard-head","flex-between"],["dashboard-head"]),l=this.render_textElement("p","Dashboard");d.append(l),a.append(d);let i=e.get_dashboardData(e,t,n,r,new Date().getDate(),new Date().getDay()),s=this.render_element("div",["dashboard-body","flex-column","relative"],["dashboard-body"]),p=this.render_textElement("p",this.Lang.lang("Bilanz: "),void 0,["hl-balance"]),o=this.render_textElement("span",i.balance.toFixed(2)+"€",["underlined"]);i.balance<0?o.classList.add("neg-balance"):o.classList.add("pos-balance"),p.insertAdjacentElement("beforeend",o),s.append(p);let h=this.render_textElement("p",this.Lang.lang("Einnahmen: "),void 0,["hl-inputs"]),c=this.render_textElement("span",(i.earningsTotal+i.fixedEarnings).toFixed(2)+"€",["reg-db-p","pos-balance"]);h.insertAdjacentElement("beforeend",c),s.append(h);let m=this.render_textElement("p",this.Lang.lang("Fixkosten: "),void 0,["hl-fixed-costs"]),u=this.render_textElement("span",i.fixedExpenses.toFixed(2)+"€",["reg-db-p","neg-balance"]);m.insertAdjacentElement("beforeend",u),s.append(m);let b=this.render_textElement("p",this.Lang.lang("Einzelausgaben: "),void 0,["hl-single-costs"]),x=this.render_textElement("span",i.expensesTotal.toFixed(2)+"€",["reg-db-p","neg-balance"]);b.insertAdjacentElement("beforeend",x),s.append(b),s.append(this.render_textElement("p",this.Lang.lang("Daraus resultiert:"))),s.append(document.createElement("hr"));let g=this.render_textElement("p",this.Lang.lang("Wochenbudget: "),void 0,["hl-average-week"]),f=this.render_textElement("span",i.weeklyBudget.toFixed(2)+"€",["reg-db-p","neutral-text"]);g.insertAdjacentElement("beforeend",f),s.append(g);let v=this.render_textElement("p",this.Lang.lang("Tagesbudget: "),void 0,["hl-average-day"]),y=this.render_textElement("span",i.daylyBudget.toFixed(2)+"€",["reg-db-p","neutral-text"]);v.insertAdjacentElement("beforeend",y),s.append(v);let k=this.render_element("button",["absolute","clickable"]);k.innerText="Details",s.append(k);let E=this.render_element("div",["dashboard-foot"],["dashboard-foot"]);return a.append(s),a.append(E),a}render_starMenu(){let e=this.render_element("div",["relative"],["star-menu-container"]),t=this.render_sMenus("master","Men\xfc"),n=this.render_sMenus("single","Einmalig"),r=this.render_sMenus("repeat","Wiederholt"),a=this.render_sMenus("category","Kategorien"),d=this.render_sMenus("user","Accounts");return e.append(t),e.append(n),e.append(r),e.append(a),e.append(d),e}render_sMenus(e,t){let n=this.render_element("div",["sMenu-wrappers",`sMenu-${e}-container`,"flex-column","not-clicked","absolute"],[`sMenu-${e}-container`]),r=this.render_element("div",["mCon-head","flex-center"]),a=this.render_textElement("p",t);r.append(a);let d=this.render_element("div",["mCon-body","flex-center"]),l=this.render_element("button",["master-buttons","buttons","circle-shapes","not-clicked","clickable","relative"],[`sMenu-${e}-button`]);if("master"===e)for(let i=0;i<3;i++){let s=this.render_element("div",["hamburger-stripes","absolute"]);l.append(s)}return d.append(l),n.append(r),n.append(d),n}refresh_accountWrapper(e,t){var n;let r=document.getElementById("accounts-wrapper"),a=document.querySelectorAll(".delete-acc-button").length;for(let d=0;d<a;d++)null===(n=r.firstElementChild)||void 0===n||n.remove();for(let l=0;l<e.length;l++){let i=this.render_accountBox(e[l],t);r.append(i)}}render_accountBox(e,t){let n=this.render_element("div",["accounts-box","flex-between"]),r=this.render_element("div",["accounts-p-holder","flex-start"]),a=this.render_textElement("p",e),d=this.render_element("input",["clickable"]);d.setAttribute("type","radio"),d.setAttribute("name","activeAcc"),e===t&&(d.checked=!0),r.append(a),r.append(d);let l=this.render_element("div",["accounts-button-holder","flex-center"]),i=this.render_element("div",["delete-acc-button","interface-buttons","circle-shapes","clickable"]);return l.append(i),n.append(r),n.append(l),n}render_accountWrapper(){return this.render_element("div",["col-items-wrapper","box"],["accounts-wrapper"])}render_categoryWrapper(e){let t=this.render_element("div",["col-items-wrapper","box"],["category-wrapper"]);for(let n=0;n<e.length;n++){let r=this.render_categoryBoxes(e[n]);t.append(r)}return t}refresh_categoryBox(e,t){let n=document.getElementById("category-wrapper"),r=this.render_categoryBoxes(e);n.append(r);r.querySelector(".delete-cat-button").addEventListener("click",()=>{let e=r.querySelector("p");t.delete_category(e.innerText),r.remove()})}render_categoryBoxes(e){let t=this.render_element("div",["category-box","flex-between"]),n=this.render_element("div",["category-p-holder","flex-start"]),r=this.render_textElement("p",e);n.append(r);let a=this.render_element("div",["category-button-holder","flex-center"]),d=this.render_element("div",["delete-cat-button","interface-buttons","circle-shapes","clickable"]);return a.append(d),t.append(n),t.append(a),t}render_importantInfo(e){let t=this.render_textBlock(),n=this.render_textElement("p",e);return t.append(n),t.style.border="2px solid tomato",t}render_regularityWrapper(){let e=this.render_element("div",["box","flex-column"],["regularity-wrapper"]),t=this.render_radioBoxes(["monthly-pay","weekly-pay"],[this.Lang.lang("im Monat"),this.Lang.lang("in der Woche")],"regularity-pays");t.classList.replace("flex-center","flex-start");let n=this.render_radioBoxes(["quarterly-pay","hYear-pay"],[this.Lang.lang("im Quartal"),this.Lang.lang("im Halbjahr")],"regularity-pays");n.classList.replace("flex-center","flex-start");let r=this.render_element("div",["box","flex-start"]),a=this.render_element("div",["double-item-container","flex-around"]),d=this.render_element("input",["clickable"],["yearly-pay"]);d.setAttribute("type","radio"),d.setAttribute("name","regularity-pays");let l=this.render_element("label",["clickable"]);return l.setAttribute("for","yearly-pay"),l.innerText=this.Lang.lang("im Jahr"),a.append(d),a.append(l),r.append(a),e.append(t),e.append(n),e.append(r),e}render_datepicker(e,t,n,r,a){let d=this.render_element("div",["box","flex-column"],["date-picker-wrapper"]),l=this.render_element("div",["flex-around"],["dPicker-head"]),i=this.render_element("div",["back-buttons","dPicker-head-arrows","clickable"],["btn-pre-month"]),s=this.render_textElement("h3",`${this.Lang.lang(e)} ${t}`),p=this.render_element("button",["dPicker-todays-date-button","clickable"]);p.innerText=this.Lang.lang("Heute");let o=this.render_element("div",["next-buttons","dPicker-head-arrows","clickable"],["btn-next-month"]);l.append(i),l.append(s),l.append(p),l.append(o);let h=this.render_element("div",["flex-column"],["dPicker-body"]),c=this.render_element("div",["flex-center"],["weekday-row"]);for(let m=0;m<7;m++){let u=this.render_weekdayFields(m);c.append(u)}h.append(c),this.render_dPickerBody(n,h,r,a);let b=this.render_element("div");return b.id="dPicker-foot",d.append(l),d.append(h),d.append(b),d}render_dPickerBody(e,t,n,r){let a=1;for(let d=0;d<r.length;d++){let l=this.render_element("div",["week-row","flex-center"]);for(let i=0;i<7;i++){let s=this.render_element("div",["day-field","clickable","relative"]);(5===i||6===i)&&s.classList.add("weekend-field");let p=this.render_element("p",["day-field-number"]);0===d?i===n?(p.innerText=a.toString(),a++):i>n&&(p.innerText=a.toString(),a++):d>0&&a<=e&&(p.innerText=a.toString(),a++),s.append(p),l.append(s)}t.append(l)}}render_weekdayFields(e){let t=this.render_element("div",["weekday-field","flex-center"]);switch(e){case 0:t.innerText="Mo";break;case 1:t.innerText="Di";break;case 2:t.innerText="Mi";break;case 3:t.innerText="Do";break;case 4:t.innerText="Fr";break;case 5:t.innerText="Sa",t.classList.add("weekend-field");break;case 6:t.innerText="So",t.classList.add("weekend-field")}return t}render_welcomeHeadline(e,t,n,r,a){let d=this.render_element("div",["wel-hl-container"],["welcome-headline"]),l=this.render_textElement("h3",`${this.Lang.lang(e)}${t}`),i=`${this.Lang.lang(n)}, ${r} (${a}.${this.Lang.lang("KW")})`;return d.append(l),d.append(i),d}render_masterHeadline(){let e=document.createElement("h2");return e.setAttribute("id","master-headline"),e.innerHTML='<span class="kame-font">Kamedin\xb4s</span> Moneytracker',e}render_textBlock(){let e=document.createElement("div");return e.setAttribute("class","text-block"),e}render_inputBlock(e,t,n,r){let a=this.render_element("div",["input-block","flex-column"]),d=this.render_element("input",["input-block-tInput","clickable"]);d.setAttribute("type","text"),d.setAttribute("id",e),d.placeholder=this.Lang.lang(t),d.maxLength=15;let l=this.render_element("div",["input-int-holder","flex-center"]);a.append(d),a.append(l);let i=this.render_element("div",["input-int-p-holder","flex-start"]),s=this.render_textElement("p",this.Lang.lang(n));i.append(s);let p=this.render_element("div",["input-int-button-holder","flex-between","relative"]),o=this.render_element("div",["secondary-input","sec-inside","rounded-edges","flex-end","absolute"]),h=this.render_textElement("p",this.Lang.lang("Best\xe4tige"));o.append(h);let c=this.render_element("div",["input-int-wrapper","circle-shapes","flex-center","relative"]),m=this.render_element("button",["clickable","input-block-button","absolute"],[r]);return m.innerText="O K",c.append(m),p.append(o),p.append(c),l.append(i),l.append(p),a}render_inputError(e){let t=document.querySelector(".input-int-button-holder"),n=document.createElement("div");n.setAttribute("id","input-error-holder"),n.classList.add("input-error-holder"),n.classList.add("flex-column"),n.classList.add("absolute");let r=document.createElement("div");r.classList.add("error-body"),r.classList.add("flex-center");let a=this.render_textElement("p",this.Lang.lang(e),["error-message"]);r.append(a);let d=document.createElement("div");d.classList.add("error-foot"),n.append(r),n.append(d),t.append(n),setTimeout(()=>{let e=document.querySelectorAll(".input-error-holder");for(let t=0;t<e.length;t++)e[0].remove()},1100)}render_select(e,t,n){let r=this.render_element("select",t,n);if(e.length>0)for(let a=0;a<e.length;a++){let d=this.render_element("option",["clickable"]);d.innerText=e[a],r.append(d)}return r}render_radioBoxes(e,t,n,r){let a;a=r?this.render_element("div",["box","flex-center"],[r]):this.render_element("div",["box","flex-center"]);let d=this.render_element("div",["double-item-container","flex-around"]),l=this.render_element("input",["clickable"],[e[0]]);l.setAttribute("type","radio"),l.setAttribute("name",n),l.checked=!0;let i=this.render_element("label",["clickable"]);i.setAttribute("for",e[0]),i.innerText=t[0],d.append(l),d.append(i);let s=this.render_element("div",["double-item-container","flex-around"]),p=this.render_element("input",["clickable"],[e[1]]);p.setAttribute("type","radio"),p.setAttribute("name",n);let o=this.render_element("label",["clickable"]);return o.setAttribute("for",e[1]),o.innerText=t[1],s.append(p),s.append(o),a.append(d),a.append(s),a}render_breadCrump(){let e=this.render_element("div",["flex-start","clickable"],["bread-crump-container"]),t=this.render_element("div",["back-buttons"]),n=this.render_textElement("h5","Zur\xfcck zum Dashboard");return e.append(t),e.append(n),e}render_textElement(e,t,n,r){let a=document.createElement(e);return a.innerText=this.Lang.lang(t),n&&this._applyClasses(a,n),r&&this._applyIds(a,r),a}render_element(e,t,n){let r=document.createElement(e);return t&&this._applyClasses(r,t),n&&this._applyIds(r,n),r}_applyClasses(e,t){for(let n=0;n<t.length;n++)e.classList.add(t[n])}_applyIds(e,t){if(1===t.length)e.setAttribute("id",t[0]);else{let n="";for(let r=0;r<t.length;r++)n=""===n?t[r]:n+" "+t[r];e.setAttribute("id",n)}}}